{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///velixid.min.js","webpack:///webpack/bootstrap 0609e1580ad8095366df","webpack:///./src/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","openPopupCenter","url","title","w","h","getSpecs","top","left","getFirstNumber","i","len","arguments","length","value","dualScreenLeft","window","screenLeft","screen","dualScreenTop","screenTop","width","innerWidth","document","documentElement","clientWidth","height","innerHeight","clientHeight","newWindow","open","focus","Object","defineProperty","VelixID","EVENTS","LOGIN","ERROR","REJECT","CANCEL","init","params","_token","token","disableButtonSetup","querySelectorAll","forEach","button","_styleButton","_addBehaviour","bind","addEventListener","e","_popup","data","close","_fireEvent","undefined","setTimeout","style","padding","background","color","font","fontFamily","fontSize","border","borderRadius","outline","cursor","dataset","onclick","_openLoginPopup","_events","login","error","reject","cancel","event","index","callback","on","push"],"mappings":"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","file":"velixid.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VelixID\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VelixID\"] = factory();\n\telse\n\t\troot[\"VelixID\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"VelixID\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"VelixID\"] = factory();\n\telse\n\t\troot[\"VelixID\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tfunction openPopupCenter(url, title, w, h) {\n\t  // Fixes dual-screen position\n\t  // Most browsers use window.screenLeft\n\t  // Firefox uses screen.left\n\t  var dualScreenLeft = getFirstNumber(window.screenLeft, screen.left),\n\t      dualScreenTop = getFirstNumber(window.screenTop, screen.top),\n\t      width = getFirstNumber(window.innerWidth, document.documentElement.clientWidth, screen.width),\n\t      height = getFirstNumber(window.innerHeight, document.documentElement.clientHeight, screen.height),\n\t      left = width / 2 - w / 2 + dualScreenLeft,\n\t      top = height / 2 - h / 2 + dualScreenTop,\n\t      newWindow = window.open(url, title, getSpecs());\n\t\n\t  // Puts focus on the newWindow\n\t  if (window.focus) {\n\t    newWindow.focus();\n\t  }\n\t\n\t  return newWindow;\n\t\n\t  function getSpecs() {\n\t    return \"scrollbars=yes, width=\" + w + \", height=\" + h + \", top=\" + top + \", left=\" + left;\n\t  }\n\t\n\t  function getFirstNumber() {\n\t    for (var i = 0, len = arguments.length; i < len; i++) {\n\t      var value = arguments[i];\n\t\n\t      if (typeof value === \"number\") {\n\t        return value;\n\t      }\n\t    }\n\t  }\n\t}\n\t\n\tvar VelixID = {\n\t  EVENTS: {\n\t    LOGIN: \"login\",\n\t    ERROR: \"error\",\n\t    REJECT: \"reject\",\n\t    CANCEL: \"cancel\"\n\t  },\n\t\n\t  init: function init(params) {\n\t    this._token = params.token;\n\t\n\t    if (!params.disableButtonSetup) {\n\t      document.querySelectorAll(\"[data-button-type=velixid-login]\").forEach(function (button) {\n\t        this._styleButton(button);\n\t        this._addBehaviour(button);\n\t      }.bind(this));\n\t    }\n\t\n\t    window.addEventListener(\"message\", function (e) {\n\t      if (this._popup && e.data.close) {\n\t        if (e.data.data === \"cancel\") {\n\t          this._popup.close();\n\t          this._fireEvent(\"cancel\", undefined);\n\t        } else {\n\t          setTimeout(function () {\n\t            this._popup.close();\n\t          }.bind(this), 3000);\n\t\n\t          if (e.data.data === \"rejected\") {\n\t            this._fireEvent(\"reject\", undefined);\n\t          } else {\n\t            this._fireEvent(\"login\", e.data);\n\t          }\n\t        }\n\t      }\n\t    }.bind(this), false);\n\t  },\n\t\n\t  _styleButton: function _styleButton(button) {\n\t    button.style.padding = \"8px 15px\";\n\t    button.style.background = \"#090b23\";\n\t    button.style.color = \"#ffffff\";\n\t    button.style.font = \"#ffffff\";\n\t    button.style.fontFamily = \"Helvetica, Lato, Arial\";\n\t    button.style.fontSize = \"12px\";\n\t    button.style.border = \"0px solid\";\n\t    button.style.borderRadius = \"4px\";\n\t    button.style.outline = \"none\";\n\t    button.style.cursor = \"pointer\";\n\t  },\n\t\n\t  _addBehaviour: function _addBehaviour(button) {\n\t    switch (button.dataset[\"buttonType\"]) {\n\t      case \"velixid-login\":\n\t        button.onclick = this._openLoginPopup.bind(this);\n\t        break;\n\t      default:\n\t        break;\n\t    }\n\t  },\n\t\n\t  _openLoginPopup: function _openLoginPopup() {\n\t    this._popup = openPopupCenter(\"https://api.velix.id/popup/login/\" + this._token, \"Login with Velix.ID\", 500, 500);\n\t  },\n\t\n\t  _events: {\n\t    login: [],\n\t    error: [],\n\t    reject: [],\n\t    cancel: []\n\t  },\n\t\n\t  _fireEvent: function _fireEvent(event, data) {\n\t    if (this._events[event]) {\n\t      for (var index = 0; index < this._events[event].length; index++) {\n\t        var callback = this._events[event][index];\n\t        callback(data);\n\t      }\n\t    }\n\t  },\n\t\n\t  on: function on(event, callback) {\n\t    if (this._events[event] && typeof callback === \"function\") {\n\t      this._events[event].push(callback);\n\t    }\n\t  }\n\t};\n\t\n\texports.default = VelixID;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** velixid.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0609e1580ad8095366df\n **/","function openPopupCenter(url, title, w, h) {\n  // Fixes dual-screen position\n  // Most browsers use window.screenLeft\n  // Firefox uses screen.left\n  var dualScreenLeft = getFirstNumber(window.screenLeft, screen.left),\n    dualScreenTop = getFirstNumber(window.screenTop, screen.top),\n    width = getFirstNumber(\n      window.innerWidth,\n      document.documentElement.clientWidth,\n      screen.width\n    ),\n    height = getFirstNumber(\n      window.innerHeight,\n      document.documentElement.clientHeight,\n      screen.height\n    ),\n    left = width / 2 - w / 2 + dualScreenLeft,\n    top = height / 2 - h / 2 + dualScreenTop,\n    newWindow = window.open(url, title, getSpecs());\n\n  // Puts focus on the newWindow\n  if (window.focus) {\n    newWindow.focus();\n  }\n\n  return newWindow;\n\n  function getSpecs() {\n    return (\n      \"scrollbars=yes, width=\" +\n      w +\n      \", height=\" +\n      h +\n      \", top=\" +\n      top +\n      \", left=\" +\n      left\n    );\n  }\n\n  function getFirstNumber() {\n    for (var i = 0, len = arguments.length; i < len; i++) {\n      var value = arguments[i];\n\n      if (typeof value === \"number\") {\n        return value;\n      }\n    }\n  }\n}\n\nvar VelixID = {\n  EVENTS: {\n    LOGIN: \"login\",\n    ERROR: \"error\",\n    REJECT: \"reject\",\n    CANCEL: \"cancel\"\n  },\n\n  init: function(params) {\n    this._token = params.token;\n\n    if (!params.disableButtonSetup) {\n      document.querySelectorAll(\"[data-button-type=velixid-login]\").forEach(\n        function(button) {\n          this._styleButton(button);\n          this._addBehaviour(button);\n        }.bind(this)\n      );\n    }\n\n    window.addEventListener(\n      \"message\",\n      function(e) {\n        if (this._popup && e.data.close) {\n          if (e.data.data === \"cancel\") {\n            this._popup.close();\n            this._fireEvent(\"cancel\", undefined);\n          } else {\n            setTimeout(\n              function() {\n                this._popup.close();\n              }.bind(this),\n              3000\n            );\n\n            if (e.data.data === \"rejected\") {\n              this._fireEvent(\"reject\", undefined);\n            } else {\n              this._fireEvent(\"login\", e.data);\n            }\n          }\n        }\n      }.bind(this),\n      false\n    );\n  },\n\n  _styleButton: function(button) {\n    button.style.padding = \"8px 15px\";\n    button.style.background = \"#090b23\";\n    button.style.color = \"#ffffff\";\n    button.style.font = \"#ffffff\";\n    button.style.fontFamily = \"Helvetica, Lato, Arial\";\n    button.style.fontSize = \"12px\";\n    button.style.border = \"0px solid\";\n    button.style.borderRadius = \"4px\";\n    button.style.outline = \"none\";\n    button.style.cursor = \"pointer\";\n  },\n\n  _addBehaviour: function(button) {\n    switch (button.dataset[\"buttonType\"]) {\n      case \"velixid-login\":\n        button.onclick = this._openLoginPopup.bind(this);\n        break;\n      default:\n        break;\n    }\n  },\n\n  _openLoginPopup: function() {\n    this._popup = openPopupCenter(\n      \"https://api.velix.id/popup/login/\" + this._token,\n      \"Login with Velix.ID\",\n      500,\n      500\n    );\n  },\n\n  _events: {\n    login: [],\n    error: [],\n    reject: [],\n    cancel: []\n  },\n\n  _fireEvent: function(event, data) {\n    if (this._events[event]) {\n      for (let index = 0; index < this._events[event].length; index++) {\n        let callback = this._events[event][index];\n        callback(data);\n      }\n    }\n  },\n\n  on: function(event, callback) {\n    if (this._events[event] && typeof callback === \"function\") {\n      this._events[event].push(callback);\n    }\n  }\n};\n\nexport default VelixID;\n\n\n\n/** WEBPACK FOOTER **\n ** ./~/eslint-loader!./src/index.js\n **/"],"sourceRoot":""}