!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("VelixID",[],t):"object"==typeof exports?exports.VelixID=t():e.VelixID=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t){"use strict";function n(e,t,n,o){function i(){return"scrollbars=yes, width="+n+", height="+o+", top="+f+", left="+u}function s(){for(var e=0,t=arguments.length;e<t;e++){var n=arguments[e];if("number"==typeof n)return n}}var r=s(window.screenLeft,screen.left),c=s(window.screenTop,screen.top),d=s(window.innerWidth,document.documentElement.clientWidth,screen.width),l=s(window.innerHeight,document.documentElement.clientHeight,screen.height),u=d/2-n/2+r,f=l/2-o/2+c,p=window.open(e,t,i());return window.focus&&p.focus(),p}Object.defineProperty(t,"__esModule",{value:!0});var o={EVENTS:{LOGIN:"login",ERROR:"error",REJECT:"reject",CANCEL:"cancel"},init:function(e){this._token=e.token,e.disableButtonSetup||document.querySelectorAll("[data-button-type=velixid-login]").forEach(function(e){this._styleButton(e),this._addBehaviour(e)}.bind(this)),window.addEventListener("message",function(e){this._popup&&e.data.close&&("cancel"===e.data.data?(this._popup.close(),this._fireEvent("cancel",void 0)):(setTimeout(function(){this._popup.close()}.bind(this),3e3),"rejected"===e.data.data?this._fireEvent("reject",void 0):this._fireEvent("login",e.data)))}.bind(this),!1)},_styleButton:function(e){e.style.padding="8px 15px",e.style.background="#090b23",e.style.color="#ffffff",e.style.font="#ffffff",e.style.fontFamily="Helvetica, Lato, Arial",e.style.fontSize="12px",e.style.border="0px solid",e.style.borderRadius="4px",e.style.outline="none",e.style.cursor="pointer"},_addBehaviour:function(e){switch(e.dataset.buttonType){case"velixid-login":e.onclick=this._openLoginPopup.bind(this)}},_openLoginPopup:function(){this._popup=n("https://api.velix.id/popup/login/"+this._token,"Login with Velix.ID",500,500)},_events:{login:[],error:[],reject:[],cancel:[]},_fireEvent:function(e,t){if(this._events[e])for(var n=0;n<this._events[e].length;n++){var o=this._events[e][n];o(t)}},on:function(e,t){this._events[e]&&"function"==typeof t&&this._events[e].push(t)}};t["default"]=o,e.exports=t["default"]}])});
//# sourceMappingURL=velixid.min.js.map